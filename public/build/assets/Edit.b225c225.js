import{L as ie}from"./Layout.0b1f9968.js";import{g as V}from"./debounce.c4aa7381.js";import{F as de}from"./FileInput.903ab579.js";import{T as pe}from"./TextInput.b2b1b0ee.js";import{d as ue}from"./DeleteMixin.c70cf400.js";import{M as me}from"./Modal.02f22acc.js";import{S as ce}from"./SelectInput.74905e95.js";import{T as he}from"./TextareaInput.3ee31c84.js";import{L as fe}from"./LoadingButton.c10eba0f.js";import{T as ge}from"./TrashedMessage.6db3489a.js";import be from"./Form.5339fc14.js";import{D as ye}from"./DeleteRestoreComponent.bf5cc72b.js";import{_ as _e,r as h,o as n,f as C,e as b,a as r,b as p,h as x,t as l,d as c,w as ve,n as w,c as i,j as v,F as _}from"./app.17643b0d.js";import"./Dropdown.b9879dc0.js";import"./FlashMessages.c06c1468.js";import"./InputError.8656d16b.js";import"./RadioInput.a8fc59b3.js";import"./CheckboxInput.4c058ef6.js";import"./Dialog.3b0825ec.js";const xe={mixins:[ue("order")],props:{order:Object,members:Array,taxes:Array,iservices:Array,icustomers:Array},components:{Modal:me,Layout:ie,FileInput:de,TextInput:pe,SelectInput:ce,TextareaInput:he,LoadingButton:fe,TrashedMessage:ge,MeasurementForm:be,DeleteRestoreComponent:ye},data(){return{restore:!1,sending:!1,addMM:!1,ddData:null,form:{date:this.order.date,reference:this.order.reference,customer_id:this.order.customer.id,assigned_to:this.order.assigned_to?this.order.assigned_to.id:"",delivery_date:this.order.delivery_date,status:this.order.status,priority:this.order.priority,amount:this.order.amount,note:this.order.note,services:this.order.services,customer:this.order.customer,taxes:this.order.taxes.map(e=>(e.value=e.id,e.label=e.name,e)),discount:this.order.discount,discount_amount:this.order.discount_amount},staff:{},tax:null,allTaxes:[],services:[],service:null,customers:[],priority:null,staff_members:[],customer:{label:this.order.customer.name,value:this.order.customer.id},priorities:[{label:this.$t("Normal"),value:1},{label:this.$t("High"),value:2},{label:this.$t("Urgent"),value:3}]}},computed:{discountAmount(){if(!this.form.discount)return 0;if(this.form.discount.indexOf("%")!==-1){var e=this.form.discount.split("%");return parseFloat(this.totalAmount*(parseFloat(e)/100),4)}return parseFloat(this.form.discount)},compoundTaxes(){return this.form.taxes.filter(e=>e.compound)},nonCompoundTaxes(){return this.form.taxes.filter(e=>!e.compound)},nonCompoundTaxesAmount(){return this.nonCompoundTaxes.reduce((e,t)=>e+this.calculateTax(t,!1),0)},taxAmount(){return this.nonCompoundTaxesAmount+this.compoundTaxes.reduce((e,t)=>e+this.calculateTax(t,!0),0)},totalAmount(){return this.form.services.reduce((e,t)=>parseFloat(t.price)*parseFloat(t.qty)+e,0)},totalQuantity(){return this.form.services.reduce((e,t)=>parseFloat(t.qty)+e,0)}},mounted(){this.order.assigned_to&&(this.staff={label:this.order.assigned_to.name,value:this.order.assigned_to.id},this.members.push(this.staff)),this.allTaxes=this.taxes,this.services=this.iservices,this.customers=this.icustomers,this.customers.push(this.customer),this.staff_members=this.members,this.form.priority=this.priorities.find(e=>e.value==this.order.priority),this.form.services=this.order.services.map(e=>(e.id=e.service_id,e))},methods:{addToOrder(e){let t=this.getServiceMeasurements(e.id);this.form.services.push({...e,service_id:e.id,qty:1,measurement_id:t?t[0].id:null})},calculateTax(e,t=!1){return t?(this.totalAmount-this.discountAmount+this.nonCompoundTaxesAmount)*(parseFloat(e.rate)/100):(this.totalAmount-this.discountAmount)*(parseFloat(e.rate)/100)},updateCustomerMeasurement(e){this.form.customer.measurements.push(e),this.form.services=this.form.services.map(t=>(t.service_id==e.service_id&&(t.measurement_id=e.id),t))},addMeasurement(e){let t=this.services.find(s=>s.id==e);t={label:t.name,value:t.id,measurement_fields:t.measurement_fields};let a=this.customer,f=a.label+"'s "+t.label;this.ddData={name:f,service:t,customer:a},this.addMM=!0},getServiceMeasurements(e){if(this.form.customer){let t=this.form.customer.measurements.filter(a=>a.service_id==e);return t&&t.length?t:!1}},deleteService(e){this.form.services.splice(e,1)},staffChanged(e){this.staff=e||null,this.form.assigned_to=e?e.value:null},priorityChanged(e){this.priority=e||null,this.form.priority=e?e.value:null},customerChanged(e){this.customer=e||null,this.form.customer=e||null,this.form.customer_id=e?e.value:null,this.form.services=this.form.services.map(t=>(t.measurement=null,t.measurement_id=null,t))},searchCustomers(e,t){e&&(t(!0),this.searchingCustomers(t,e,this))},searchingCustomers:V((e,t,a)=>{fetch(a.route("ajax.customers")+"?measurements=1&search="+escape(t)).then(f=>{f.json().then(s=>a.customers=s),e(!1)})},350),searchServices(e,t){e&&(t(!0),this.searchingServices(t,e,this))},searchingServices:V((e,t,a)=>{fetch(a.route("ajax.services")+"?full=1&search="+escape(t)).then(f=>{f.json().then(s=>a.services=s),e(!1)})},350),searchStaff(e,t){e&&(t(!0),this.searchingStaff(t,e,this))},searchingStaff:V((e,t,a)=>{fetch(a.route("ajax.staff")+"?search="+escape(t)).then(f=>{f.json().then(s=>a.staff_members=s),e(!1)})},350),submit(){this.sending=!0;var e=new FormData;e.append("reference",this.form.reference||""),e.append("customer_id",this.form.customer_id||""),e.append("assigned_to",this.form.assigned_to||""),e.append("delivery_date",this.form.delivery_date||""),e.append("status",this.form.status||""),e.append("priority",this.form.priority?this.form.priority.value:""),e.append("note",this.form.note||""),e.append("discount",this.form.discount||""),e.append("photo",this.form.photo||""),e.append("_method","put"),this.form.taxes&&this.form.taxes.length?this.form.taxes.map((t,a)=>{e.append("taxes["+a+"][id]",t.id),e.append("taxes["+a+"][code]",t.code),e.append("taxes["+a+"][name]",t.name),e.append("taxes["+a+"][rate]",t.rate),e.append("taxes["+a+"][compound]",t.compound)}):e.append("taxes",[]),this.form.services.map((t,a)=>{e.append("services["+a+"][id]",t.id),e.append("services["+a+"][qty]",t.qty),e.append("services["+a+"][code]",t.code),e.append("services["+a+"][name]",t.name),e.append("services["+a+"][price]",t.price),e.append("services["+a+"][color]",t.color),e.append("services["+a+"][product_code]",t.product_code),e.append("services["+a+"][service_id]",t.service_id),e.append("services["+a+"][measurement_id]",t.measurement_id)}),this.$inertia.post(this.route("orders.update",this.order.id),e,{onFinish:()=>this.sending=!1})}}},we={class:"mb-6 mt-2 font-bold text-lg md:text-2xl"},Ve=r("span",{class:"text-gray-400 font-medium mx-2"},"/",-1),Ce={class:"bg-white rounded shadow overflow-hidden max-w-4xl"},ke={class:"p-8 ltr:-mr-6 rtl:-ml-6 ltr:ml-0 rtl:mr-0 -mb-8 flex flex-wrap"},Me={class:"ltr:pr-6 rtl:pl-6 pb-8 w-full lg:w-1/2"},$e={class:"form-label",for:"customer_id"},Te={key:0,class:"form-error"},Se={class:"ltr:pr-6 rtl:pl-6 pb-8 w-full lg:w-1/2"},Ae={class:"form-label",for:"status"},Ue={key:0,class:"form-error"},Fe={key:0,class:"ltr:pr-6 rtl:pl-6 pb-8 w-full lg:w-1/2"},Oe={class:"form-label",for:"assigned_to"},De={key:0,class:"form-error"},Ie={class:"ltr:pr-6 rtl:pl-6 pb-8 w-full lg:w-1/2"},qe={class:"form-label",for:"priority"},je={key:0,class:"form-error"},Le={class:"ltr:pr-6 rtl:pl-6 pb-8 w-full no-drop"},Ne={slot:"no-options"},Re={class:"px-4 py-2 text-gray-700 hover:text-gray-200"},Pe={key:0,class:"px-4 py-2 rounded mt-4 text-white bg-red-500"},Be={key:1,class:"px-4 py-2 rounded mt-4 text-white bg-red-500"},Qe={key:2,class:"px-4 py-2 rounded mt-4 text-white bg-red-500"},Ee={class:"ltr:mr-6 rtl:ml-6 mb-8 w-full border rounded overflow-x-auto lg:overflow-x-hidden pb-4 lg:pb-0"},ze={key:0,class:"px-4 py-3 bg-orange-200 text-orange-500"},Ge={key:0},He={key:1},Je={key:2,class:"w-full"},Ke=r("th",{class:"border-b pl-4 pr-2 py-2 bg-gray-200 text-center"},"#",-1),We={class:"border-b pl-2 pr-4 py-2 bg-gray-200 ltr:text-left rtl:text-right"},Xe={class:"border-b px-4 py-2 bg-gray-200 w-12"},Ye={class:"border-b px-4 py-2 bg-gray-200 w-12"},Ze={class:"border-b px-4 py-2 bg-gray-200 w-30"},et={class:"border-b px-4 py-2 bg-gray-200 w-12"},tt={class:"border-b px-4 py-2 bg-gray-200 w-12"},rt={class:"border-b px-4 py-2 bg-gray-200 w-12"},st={class:"border-b pl-4 pr-2 py-2"},ot={class:"flex flex-col content-center items-center justify-around w-6"},lt={class:"pt-1"},at=["onClick"],nt={class:"border-b pl-2 pr-4 py-2 leading-normal"},it={style:{"min-width":"180px"}},dt={class:"text-sm font-bold"},pt={class:"border-b px-4 py-2 ltr:text-right rtl:text-left"},ut={class:"border-b px-4 py-2 ltr:text-right rtl:text-left"},mt={class:"border-b px-4 py-2 no-drop"},ct={key:0,class:"text-center"},ht=["onClick"],ft=["value"],gt={class:"border-b px-4 py-2 ltr:text-right rtl:text-left"},bt={class:"border-b px-4 py-2 text-center"},yt={class:"border-b px-4 py-2 ltr:text-right rtl:text-left font-bold"},_t={class:"border-b px-4 py-2 bg-gray-200 ltr:text-right rtl:text-left",colspan:"4"},vt={class:"border-b px-4 py-2 bg-gray-200 text-center"},xt={class:"border-b px-4 py-2 bg-gray-200 ltr:text-right rtl:text-left"},wt={key:0},Vt={class:"border-b px-4 py-2 bg-gray-200 ltr:text-right rtl:text-left",colspan:"4"},Ct=r("th",{class:"border-b px-4 py-2 bg-gray-200 ltr:text-right rtl:text-left"},null,-1),kt={class:"border-b px-4 py-2 bg-gray-200 ltr:text-right rtl:text-left"},Mt={class:"border-b px-4 py-2 bg-gray-200 ltr:text-right rtl:text-left",colspan:"4"},$t=r("th",{class:"border-b px-4 py-2 bg-gray-200 ltr:text-right rtl:text-left"},null,-1),Tt={class:"border-b px-4 py-2 bg-gray-200 ltr:text-right rtl:text-left"},St={class:"border-b px-4 py-2 bg-gray-200 ltr:text-right rtl:text-left",colspan:"4"},At=r("th",{class:"border-b px-4 py-2 bg-gray-200 ltr:text-right rtl:text-left"},null,-1),Ut={class:"border-b px-4 py-2 bg-gray-200 ltr:text-right rtl:text-left"},Ft={key:2},Ot={class:"border-b px-4 py-2 bg-gray-200 ltr:text-right rtl:text-left",colspan:"4"},Dt=r("th",{class:"border-b px-4 py-2 bg-gray-200 ltr:text-right rtl:text-left"},null,-1),It={class:"border-b px-4 py-2 bg-gray-200 ltr:text-right rtl:text-left"},qt={class:"ltr:pr-6 rtl:pl-6 pb-8 w-full lg:w-1/2"},jt={class:"form-label",for:"taxes"},Lt={key:0,class:"form-error"},Nt={class:"px-8 py-4 bg-gray-100 border-t border-gray-200 flex items-center"};function Rt(e,t,a,f,s,d){const k=h("Icons"),X=h("Link"),Y=h("trashed-message"),y=h("v-select"),g=h("text-input"),Z=h("select-input"),ee=h("file-input"),te=h("textarea-input"),re=h("DeleteRestoreComponent"),se=h("loading-button"),oe=h("MeasurementForm"),le=h("Modal"),ae=h("Layout");return n(),C(ae,{title:e.$t("edit_x",{x:this.$t("Order Number",{x:this.order.id})})},{default:b(()=>{var M,$,T,S,A,U,F,O,D,I,q,j,L,N,R,P,B,Q,E,z,G,H,J,K,W;return[r("div",null,[r("div",null,[r("h1",we,[p(X,{class:"text-gray-600 hover:text-gray-800 inline-flex items-center",href:e.route("orders")},{default:b(()=>[p(k,{name:"back",class:"flex-shrink-0 w-3 h-3 md:w-5 md:h-5 fill-current ltr:mr-2 rtl:ml-2 rtl:rotate"}),x(" "+l(e.$tc("Order",2)),1)]),_:1},8,["href"]),Ve,x(" "+l(e.$t("Order Number",{x:a.order.id})),1)]),a.order.deleted_at?(n(),C(Y,{key:0,class:"mb-6 max-w-4xl",onRestore:s.restore},{default:b(()=>[r("span",null,l(e.$t("already_deleted_x",{x:e.$tc("Order")})),1)]),_:1},8,["onRestore"])):c("",!0),r("div",Ce,[r("form",{onSubmit:t[10]||(t[10]=ve((...o)=>d.submit&&d.submit(...o),["prevent"])),autocomplete:"off"},[r("div",ke,[r("div",Me,[r("label",$e,l(e.$tc("Customer")),1),p(y,{transition:"",modelValue:s.customer,"onUpdate:modelValue":t[0]||(t[0]=o=>s.customer=o),clearable:!1,options:s.customers,"input-id":"customer_id",onInput:d.customerChanged,onSearch:d.searchCustomers,"onOption:selected":d.customerChanged,dir:e.$page.props.user.account.direction,placeholder:e.$t("search_x",{x:e.$tc("Customer")}),class:w({error:((M=e.$page.props.errors)==null?void 0:M.customer_id)&&(($=e.$page.props.errors)==null?void 0:$.customer_id.length)})},null,8,["modelValue","options","onInput","onSearch","onOption:selected","dir","placeholder","class"]),(T=e.$page.props.errors)!=null&&T.customer_id?(n(),i("div",Te,l((S=e.$page.props.errors)==null?void 0:S.customer_id),1)):c("",!0)]),p(g,{type:"date",pattern:"\\d{4}-\\d{2}-\\d{2}",label:e.$t("Delivery Date"),modelValue:s.form.delivery_date,"onUpdate:modelValue":t[1]||(t[1]=o=>s.form.delivery_date=o),errors:(A=e.$page.props.errors)==null?void 0:A.delivery_date,class:"ltr:pr-6 rtl:pl-6 pb-8 w-full lg:w-1/2"},null,8,["label","modelValue","errors"]),r("div",Se,[r("label",Ae,l(e.$t("Status")),1),p(y,{transition:"","input-id":"status",clearable:!1,modelValue:s.form.status,"onUpdate:modelValue":t[2]||(t[2]=o=>s.form.status=o),dir:e.$page.props.user.account.direction,placeholder:e.$t("select_x",{x:e.$t("Status")}),class:w({error:((U=e.$page.props.errors)==null?void 0:U.status)&&((F=e.$page.props.errors)==null?void 0:F.status.length)}),options:[e.$t("unconfirmed"),e.$t("Preparing"),e.$t("Ready"),e.$t("Completed")]},null,8,["modelValue","dir","placeholder","class","options"]),(O=e.$page.props.errors)!=null&&O.status?(n(),i("div",Ue,l((D=e.$page.props.errors)==null?void 0:D.status),1)):c("",!0)]),p(g,{label:e.$t("Reference"),modelValue:s.form.reference,"onUpdate:modelValue":t[3]||(t[3]=o=>s.form.reference=o),errors:(I=e.$page.props.errors)==null?void 0:I.reference,class:"ltr:pr-6 rtl:pl-6 pb-8 w-full lg:w-1/2",disabled:!0},null,8,["label","modelValue","errors"]),e.$page.props.user.owner?(n(),i("div",Fe,[r("label",Oe,l(e.$t("Assign to")),1),p(y,{transition:"",value:s.staff,clearable:!1,onInput:d.staffChanged,onSearch:d.searchStaff,"input-id":"assigned_to",options:s.staff_members,"onOption:selected":d.staffChanged,dir:e.$page.props.user.account.direction,placeholder:e.$t("search_x",{x:e.$t("Staff")}),class:w({error:((q=e.$page.props.errors)==null?void 0:q.assigned_to)&&((j=e.$page.props.errors)==null?void 0:j.assigned_to.length)})},null,8,["value","onInput","onSearch","options","onOption:selected","dir","placeholder","class"]),(L=e.$page.props.errors)!=null&&L.assigned_to?(n(),i("div",De,l((N=e.$page.props.errors)==null?void 0:N.assigned_to),1)):c("",!0)])):c("",!0),r("div",Ie,[r("label",qe,l(e.$t("Priority")),1),p(y,{transition:"",clearable:!1,filterable:!1,"input-id":"priority",options:s.priorities,modelValue:s.form.priority,"onUpdate:modelValue":t[4]||(t[4]=o=>s.form.priority=o),dir:e.$page.props.user.account.direction,placeholder:e.$t("select_x",{x:e.$t("Priority")})},null,8,["options","modelValue","dir","placeholder"]),(R=e.$page.props.errors)!=null&&R.priority?(n(),i("div",je,l((P=e.$page.props.errors)==null?void 0:P.priority),1)):c("",!0)]),r("div",Le,[p(y,{label:"name",transition:"",value:s.service,"input-id":"service",options:s.services,onInput:d.addToOrder,onSearch:d.searchServices,"onOption:selected":d.addToOrder,dir:e.$page.props.user.account.direction,placeholder:e.$t("Search service to add to order")},{default:b(()=>[r("template",Ne,[r("div",Re,l(e.$t("Type to search services")),1)])]),_:1},8,["value","options","onInput","onSearch","onOption:selected","dir","placeholder"]),(n(!0),i(_,null,v(s.form.services,(o,u)=>(n(),i("div",{key:"se_"+u},[e.$page.props.errors["services."+u+".measurement_id"]?(n(),i("div",Pe,l(e.$page.props.errors["services."+u+".measurement_id"]),1)):c("",!0),e.$page.props.errors["services."+u+".price"]?(n(),i("div",Be,l(e.$page.props.errors["services."+u+".price"]),1)):c("",!0),e.$page.props.errors["services."+u+".qty"]?(n(),i("div",Qe,l(e.$page.props.errors["services."+u+".qty"]),1)):c("",!0)]))),128))]),r("div",Ee,[s.form.customer_id?c("",!0):(n(),i("div",ze,l(e.$t("Please select the customer first")),1)),s.form.services.length?(n(),i("table",Je,[r("thead",null,[r("tr",null,[Ke,r("th",We,l(e.$tc("Service")),1),r("th",Xe,l(e.$t("Code")),1),r("th",Ye,l(e.$t("Color")),1),r("th",Ze,l(e.$tc("Measurement")),1),r("th",et,l(e.$t("Price")),1),r("th",tt,l(e.$t("Qty")),1),r("th",rt,l(e.$t("Amount")),1)])]),r("tbody",null,[(n(!0),i(_,null,v(s.form.services,(o,u)=>(n(),i("tr",{key:"servicse_"+o.id},[r("td",st,[r("div",ot,[r("div",lt,l(u+1),1),r("button",{type:"button",onClick:m=>d.deleteService(u),class:"mt-1 p-1 text-gray-500 hover:text-red-600"},[p(k,{name:"trash",class:"flex-shrink-0 w-3 h-3 fill-current"})],8,at)])]),r("td",nt,[r("div",it,[x(l(o.name)+" ",1),r("div",dt,l(o.code),1)])]),r("td",pt,[p(g,{small:"",class:"w-20",type:"text",modelValue:o.product_code,"onUpdate:modelValue":m=>o.product_code=m},null,8,["modelValue","onUpdate:modelValue"])]),r("td",ut,[p(g,{small:"",class:"w-20",type:"text",modelValue:o.color,"onUpdate:modelValue":m=>o.color=m},null,8,["modelValue","onUpdate:modelValue"])]),r("td",mt,[d.getServiceMeasurements(o.service_id)?(n(),C(Z,{key:1,small:"",modelValue:o.measurement_id,"onUpdate:modelValue":m=>o.measurement_id=m,placeholder:e.$t("select_x",{x:e.$tc("Measurement")})},{default:b(()=>[(n(!0),i(_,null,v(d.getServiceMeasurements(o.service_id),(m,ne)=>(n(),i("option",{key:"mo_"+u+ne,value:m.id},l(m.name),9,ft))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"])):(n(),i("div",ct,[r("button",{type:"button",onClick:m=>d.addMeasurement(o.service_id),class:"bg-gray-200 hover:bg-gray-400 border rounded px-4 py-2"},l(e.$t("Add")),9,ht)]))]),r("td",gt,[p(g,{small:"",class:"w-20",type:"number",modelValue:o.price,"onUpdate:modelValue":m=>o.price=m},null,8,["modelValue","onUpdate:modelValue"])]),r("td",bt,[p(g,{small:"",type:"number",class:"w-16 text-center",modelValue:o.qty,"onUpdate:modelValue":m=>o.qty=m},null,8,["modelValue","onUpdate:modelValue"])]),r("td",yt,l(e.$decimals(o.price*o.qty)),1)]))),128))]),r("tfoot",null,[r("tr",null,[r("th",_t,l(e.$t("Total")),1),r("th",vt,l(e.$number(d.totalQuantity)),1),r("th",xt,l(e.$number(d.totalAmount)),1)]),s.form.discount?(n(),i("tr",wt,[r("th",Vt,l(e.$t("Discount")),1),Ct,r("th",kt,l(e.$number(d.discountAmount)),1)])):c("",!0),s.form.taxes.length?(n(),i(_,{key:1},[(n(!0),i(_,null,v(d.nonCompoundTaxes,(o,u)=>(n(),i("tr",{key:"tr_"+u},[r("th",Mt,l(o.label),1),$t,r("th",Tt,l(e.$number(d.calculateTax(o,!1))),1)]))),128)),(n(!0),i(_,null,v(d.compoundTaxes,(o,u)=>(n(),i("tr",{key:"ctr_"+u},[r("th",St,l(o.label),1),At,r("th",Ut,l(e.$number(d.calculateTax(o,!0))),1)]))),128))],64)):c("",!0),s.form.taxes.length||s.form.discount?(n(),i("tr",Ft,[r("th",Ot,l(e.$t("Grand Total")),1),Dt,r("th",It,l(e.$number(d.totalAmount-d.discountAmount+d.taxAmount)),1)])):c("",!0)])])):(n(),i("div",{key:1,class:w(["px-4 py-3 bg-gray-200 text-gray-500",{"bg-red-200 text-red-500":((B=e.$page.props.errors)==null?void 0:B.services)&&((Q=e.$page.props.errors)==null?void 0:Q.services.length)}])},[(E=e.$page.props.errors)!=null&&E.services?(n(),i("div",Ge,l((z=e.$page.props.errors)==null?void 0:z.services),1)):(n(),i("div",He,l(e.$t("Please add at least one service to order by selecting from above dropdown.")),1))],2))]),r("div",qt,[r("label",jt,l(e.$tc("Tax",2)),1),p(y,{multiple:"",transition:"","input-id":"taxes",options:a.taxes,modelValue:s.form.taxes,"onUpdate:modelValue":t[5]||(t[5]=o=>s.form.taxes=o),dir:e.$page.props.user.account.direction,placeholder:e.$t("add_x",{x:e.$tc("Tax",2)})},null,8,["options","modelValue","dir","placeholder"]),(G=e.$page.props.errors)!=null&&G.taxes?(n(),i("div",Lt,l((H=e.$page.props.errors)==null?void 0:H.taxes),1)):c("",!0)]),p(g,{modelValue:s.form.discount,"onUpdate:modelValue":t[6]||(t[6]=o=>s.form.discount=o),errors:(J=e.$page.props.errors)==null?void 0:J.discount,pattern:"[0-9]+(\\.[0-9]{1,2})?%?",label:e.$t("Discount (number or % only)"),class:"ltr:pr-6 rtl:pl-6 pb-8 w-full lg:w-1/2"},null,8,["modelValue","errors","label"]),p(ee,{type:"file",accept:"image/*",label:e.$t("Photo"),modelValue:s.form.photo,"onUpdate:modelValue":t[7]||(t[7]=o=>s.form.photo=o),class:"ltr:pr-6 rtl:pl-6 pb-8 w-full",errors:(K=e.$page.props.errors)==null?void 0:K.photo},null,8,["label","modelValue","errors"]),p(te,{modelValue:s.form.note,"onUpdate:modelValue":t[8]||(t[8]=o=>s.form.note=o),errors:(W=e.$page.props.errors)==null?void 0:W.note,label:e.$t("Comment / Note"),class:"ltr:pr-6 rtl:pl-6 pb-8 w-full"},null,8,["modelValue","errors","label"])]),r("div",Nt,[p(re,{restore:s.restore,data:a.order,model:"Order",routeM:"orders",onCloseRestore:t[9]||(t[9]=()=>s.restore=!1)},null,8,["restore","data"]),p(se,{loading:s.sending,class:"btn-gray ltr:ml-auto rtl:mr-auto",type:"submit"},{default:b(()=>[x(l(e.$t("update_x",{x:e.$tc("Order")})),1)]),_:1},8,["loading"])])],32)])]),p(le,{show:s.addMM,"max-width":"2xl",closeable:!0,onClose:t[12]||(t[12]=()=>s.addMM=!1)},{default:b(()=>[p(oe,{modal:s.addMM,ddData:s.ddData,iservices:this.services,onClose:t[11]||(t[11]=()=>s.addMM=!1),action:d.updateCustomerMeasurement},null,8,["modal","ddData","iservices","action"])]),_:1},8,["show"])])]}),_:1},8,["title"])}const ar=_e(xe,[["render",Rt]]);export{ar as default};
